{"version":3,"file":"VListGroup.mjs","names":["VDefaultsProvider","VExpandTransition","useList","IconValue","makeTagProps","MaybeTransition","useNestedGroupActivator","useNestedItem","useSsrBoot","computed","toRef","defineComponent","genericComponent","useRender","VListGroupActivator","name","setup","_","slots","default","VListGroup","props","activeColor","String","color","collapseIcon","type","expandIcon","value","isOpen","open","list","isBooted","onClick","e","activatorProps","active","appendIcon","class","undefined","hasPrepend","activator","VListItemIcon","component"],"sources":["../../../src/components/VList/VListGroup.tsx"],"sourcesContent":["// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VExpandTransition } from '@/components/transitions'\n\n// Composables\nimport { useList } from './list'\nimport { IconValue } from '@/composables/icons'\nimport { makeTagProps } from '@/composables/tag'\nimport { MaybeTransition } from '@/composables/transition'\nimport { useNestedGroupActivator, useNestedItem } from '@/composables/nested/nested'\nimport { useSsrBoot } from '@/composables/ssrBoot'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { defineComponent, genericComponent, useRender } from '@/util'\n\n// Types\nimport type { InternalListItem } from './VList'\nimport type { MakeSlots } from '@/util'\nimport type { Ref } from 'vue'\n\nexport type ListGroupActivatorSlot = {\n  props: {\n    onClick: (e: Event) => void\n    appendIcon: IconValue\n    class: string\n    color?: string\n  }\n}\n\nconst VListGroupActivator = defineComponent({\n  name: 'VListGroupActivator',\n\n  setup (_, { slots }) {\n    useNestedGroupActivator()\n\n    return () => slots.default?.()\n  },\n})\n\nexport const VListGroup = genericComponent<new <T extends InternalListItem>() => {\n  $props: {\n    items?: T[]\n  }\n  $slots: MakeSlots<{\n    activator: [ListGroupActivatorSlot]\n    default: []\n  }>\n}>()({\n  name: 'VListGroup',\n\n  props: {\n    activeColor: String,\n    color: String,\n    collapseIcon: {\n      type: IconValue,\n      default: '$collapse',\n    },\n    expandIcon: {\n      type: IconValue,\n      default: '$expand',\n    },\n    value: null,\n\n    ...makeTagProps(),\n  },\n\n  setup (props, { slots }) {\n    const { isOpen, open } = useNestedItem(toRef(props, 'value'), true)\n    const list = useList()\n    const { isBooted } = useSsrBoot()\n\n    const onClick = (e: Event) => {\n      open(!isOpen.value, e)\n    }\n\n    const activatorProps: Ref<ListGroupActivatorSlot['props']> = computed(() => ({\n      onClick,\n      active: isOpen.value,\n      appendIcon: isOpen.value ? props.collapseIcon : props.expandIcon,\n      class: 'v-list-group__header',\n      color: isOpen.value ? props.activeColor ?? props.color : undefined,\n    }))\n\n    useRender(() => (\n      <props.tag\n        class={[\n          'v-list-group',\n          {\n            'v-list-group--prepend': list?.hasPrepend.value,\n          },\n        ]}\n      >\n        { slots.activator && (\n          <VDefaultsProvider\n            defaults={{\n              VListItemIcon: { color: activatorProps.value.color },\n            }}\n          >\n            <VListGroupActivator>\n              { slots.activator({ props: activatorProps.value, isOpen }) }\n            </VListGroupActivator>\n          </VDefaultsProvider>\n        ) }\n        <MaybeTransition transition={ isBooted.value && { component: VExpandTransition }}>\n          <div class=\"v-list-group__items\" v-show={ isOpen.value }>\n            { slots.default?.() }\n          </div>\n        </MaybeTransition>\n      </props.tag>\n    ))\n\n    return {}\n  },\n})\n"],"mappings":";AAAA;SACSA,iB;SACAC,iB,oCAET;;SACSC,O;SACAC,S;SACAC,Y;SACAC,e;SACAC,uB,EAAyBC,a;SACzBC,U,yCAET;;AACA,SAASC,QAAT,EAAmBC,KAAnB,QAAgC,KAAhC;SACSC,e,EAAiBC,gB,EAAkBC,S,gCAE5C;;AAcA,MAAMC,mBAAmB,GAAGH,eAAe,CAAC;EAC1CI,IAAI,EAAE,qBADoC;;EAG1CC,KAAK,CAAEC,CAAF,QAAgB;IAAA,IAAX;MAAEC;IAAF,CAAW;IACnBZ,uBAAuB;IAEvB,OAAO;MAAA;;MAAA,yBAAMY,KAAK,CAACC,OAAZ,qBAAM,oBAAAD,KAAK,CAAX;IAAA,CAAP;EACD;;AAPyC,CAAD,CAA3C;AAUA,OAAO,MAAME,UAAU,GAAGR,gBAAgB,GAQrC;EACHG,IAAI,EAAE,YADH;EAGHM,KAAK,EAAE;IACLC,WAAW,EAAEC,MADR;IAELC,KAAK,EAAED,MAFF;IAGLE,YAAY,EAAE;MACZC,IAAI,EAAEvB,SADM;MAEZgB,OAAO,EAAE;IAFG,CAHT;IAOLQ,UAAU,EAAE;MACVD,IAAI,EAAEvB,SADI;MAEVgB,OAAO,EAAE;IAFC,CAPP;IAWLS,KAAK,EAAE,IAXF;IAaL,GAAGxB,YAAY;EAbV,CAHJ;;EAmBHY,KAAK,CAAEK,KAAF,SAAoB;IAAA,IAAX;MAAEH;IAAF,CAAW;IACvB,MAAM;MAAEW,MAAF;MAAUC;IAAV,IAAmBvB,aAAa,CAACG,KAAK,CAACW,KAAD,EAAQ,OAAR,CAAN,EAAwB,IAAxB,CAAtC;IACA,MAAMU,IAAI,GAAG7B,OAAO,EAApB;IACA,MAAM;MAAE8B;IAAF,IAAexB,UAAU,EAA/B;;IAEA,MAAMyB,OAAO,GAAIC,CAAD,IAAc;MAC5BJ,IAAI,CAAC,CAACD,MAAM,CAACD,KAAT,EAAgBM,CAAhB,CAAJ;IACD,CAFD;;IAIA,MAAMC,cAAoD,GAAG1B,QAAQ,CAAC;MAAA;;MAAA,OAAO;QAC3EwB,OAD2E;QAE3EG,MAAM,EAAEP,MAAM,CAACD,KAF4D;QAG3ES,UAAU,EAAER,MAAM,CAACD,KAAP,GAAeP,KAAK,CAACI,YAArB,GAAoCJ,KAAK,CAACM,UAHqB;QAI3EW,KAAK,EAAE,sBAJoE;QAK3Ed,KAAK,EAAEK,MAAM,CAACD,KAAP,yBAAeP,KAAK,CAACC,WAArB,iCAAoCD,KAAK,CAACG,KAA1C,GAAkDe;MALkB,CAAP;IAAA,CAAD,CAArE;IAQA1B,SAAS,CAAC;MAAA;;MAAA;QAAA,SAEC,CACL,cADK,EAEL;UACE,yBAAyBkB,IAAzB,oBAAyBA,IAAI,CAAES,UAAN,CAAiBZ;QAD5C,CAFK;MAFD;QAAA,gBASJV,KAAK,CAACuB,SAAN;UAAA,YAEY;YACRC,aAAa,EAAE;cAAElB,KAAK,EAAEW,cAAc,CAACP,KAAf,CAAqBJ;YAA9B;UADP;QAFZ;UAAA;YAAA,gBAOMN,KAAK,CAACuB,SAAN,CAAgB;cAAEpB,KAAK,EAAEc,cAAc,CAACP,KAAxB;cAA+BC;YAA/B,CAAhB,CAPN;UAAA;QAAA,EATI;UAAA,cAoBwBG,QAAQ,CAACJ,KAAT,IAAkB;YAAEe,SAAS,EAAE1C;UAAb;QApB1C;UAAA;YAAA,SAqBO;UArBP,uBAsBAiB,KAAK,CAACC,OAtBN,qBAsBA,qBAAAD,KAAK,CAtBL,cAqBsCW,MAAM,CAACD,KArB7C;QAAA;MAAA;IAAA,CAAD,CAAT;IA4BA,OAAO,EAAP;EACD;;AAjEE,CARqC,CAAnC"}